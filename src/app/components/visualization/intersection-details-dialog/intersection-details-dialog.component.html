<body>
    <header>
        <h1>Intersection details for patterns {{identifier}}</h1>
        <span>Total un-intersected percentage: {{total_untouched_percentage}}</span> <br>
        <span>Total intersected percentage: {{total_intersection_percentage}}</span>
    </header>

    <section>
        <div id="intersectors_table_wrapper">
            <table mat-table [dataSource]="intersectors_data_source">
                
                <!-- Intersections column -->
                <ng-container matColumnDef="intersections">
                <th mat-header-cell *matHeaderCellDef>Intersections ({{ intersectors_data_source.data.length}})</th>
                <td mat-cell *matCellDef="let row"> {{row}} </td>
                </ng-container>
            
                <tr mat-header-row *matHeaderRowDef="intersectors_displayed_columns; sticky: true"></tr>
                <tr
                    mat-row
                    (click)="selectIntersector(row[0])"
                    *matRowDef="let row; columns: intersectors_displayed_columns;"
                ></tr>
                
            </table>
        </div>

        <div id="intersector_table_wrapper">
            <table mat-table [dataSource]="intersector_data_source">
                
                <!-- Dim number column -->
                <ng-container matColumnDef="dim-number">
                <th mat-header-cell *matHeaderCellDef>Dim</th>
                <td mat-cell *matCellDef="let row"> {{row[0].dim_number}} </td>
                </ng-container>
                
                <!-- Dim values column -->
                <ng-container matColumnDef="dim-values">
                <th mat-header-cell *matHeaderCellDef>Dimension values</th>
                <td mat-cell *matCellDef="let row"> {{row[0].dim_values}} </td>
                </ng-container>

                <ng-container matColumnDef="expand">
                    <th mat-header-cell *matHeaderCellDef aria-label="row actions">&nbsp;</th>
                    <td mat-cell *matCellDef="let element">
                      <button mat-icon-button aria-label="expand row" (click)="(expanded_element = expanded_element === element ? null : element); $event.stopPropagation()">
                        <mat-icon *ngIf="expanded_element === element">keyboard_arrow_up</mat-icon>
                        <mat-icon *ngIf="expanded_element !== element">keyboard_arrow_down</mat-icon>
                      </button>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="intersector_displayed_columns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: intersector_displayed_columns;"></tr>
                
            </table>
        </div>
        
    </section>
    
    <footer></footer>
</body>
